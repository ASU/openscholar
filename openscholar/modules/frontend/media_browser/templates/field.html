<div id="edit-{{field_name}}-und-drop" class="form-managed-file">

    <div class="media-browser-drop-box" ng-file-drop ng-file-change="sendToBrowser($files, $event)" class="droppable"
         drag-over-class="media-browser-drag-over" ng-multiple="true" allow-dir="true"
         hide-on-drop-not-available="true" ng-accept="validate($file)">
        <span id="drag-text">{{droppable_text}}<span class="help_icon" ng-mouseenter="showHelp = true" ng-mouseleave="showHelp = false">?</span></span>

        <a href="#" mb-open-modal panes="{{panes.join(',')}}" types="{{types}}" on-select="addFile($inserted)">{{upload_text}}</a>

        <div class="help" ng-show="showHelp">Files must be less than <strong>{{maxFilesize}}</strong>.<br />
            Allowed file types: <strong>{{extensionsFull.join(' ')}}</strong></div>
    </div>
</div>
<div ui-sortable="sortableOptions" ng-model="selectedFiles">
    <div class="file-list-single form-wrapper" ng-repeat="file in selectedFiles" ng-class="{even: $even, odd: $odd, highlight: file.highlight}">
        <input type="hidden" name="{{field_name}}[und][{{$index}}][fid]" value="{{file.id}}">
        <input type="hidden" name="{{field_name}}[und][{{$index}}[_weight]" value="{{$index}}">
        <a href="#" class="tabledrag-handle" title="Drag to re-order"><div class="handle">&nbsp;</div></a>
        <span>
            <img class="file-icon" alt="Icon for {{file.mime}}" title="{{file.mime}}" src="{{file.icon}}">
            {{file.label}} ({{file.filename}})
        </span>
        <ul>
            <li class="replace first">
                <a href="" mb-open-modal panes="{{panes.join(',')}}" types="{{types}}" on-select="replaceFile($inserted, $index)">Replace</a>
            </li>
            <li class="edit">
                <a href="" file-editor-modal fid="{{file.id}}">Edit</a>
            </li>
            <li class="remove last">
                <a href="" ng-click="removeFile($index)">Remove</a>
            </li>
        </ul>
    </div>
</div>